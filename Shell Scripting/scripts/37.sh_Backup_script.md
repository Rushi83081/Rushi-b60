# ğŸ“¦ Backup Script in AWS EC2 Instance

This project demonstrates how to create an **automated backup script** on an **AWS EC2 instance**, schedule it using **cron jobs**, and verify backup status using **log files**.

---

## ğŸ“„ 1. Create Backup Script File

```bash
vim 37.sh
```

## ğŸ“œ 2. Backup Script (37.sh)
```
#!/bin/bash

# Backup directory
backup_dir="backups"

# Source directory to backup
source_dir="/mnt/backup"

# Timestamp for unique backup name
timestamp=$(date "+%Y-%m-%d_%H-%M-%S")

# Backup file name
backup_file="$backup_dir/backup-$timestamp.tar.gz"

# Create backup directory if it does not exist
mkdir -p "$backup_dir"

# Create compressed backup
tar -czf "$backup_file" "$source_dir"

# Check backup status and log result
if [ $? -eq 0 ]
then
    echo "Backup Created Successfully: $backup_file" >> /var/log/backup.log
else
    echo "Backup Failed for $source_dir" >> /var/log/backup.log
fi
```

## ğŸ§  3. What We Did (Step-by-Step Explanation)
### ğŸ”¹ Step 1: Define Backup Variables

**Created variables for:**

-  ğŸ“ Backup directory

-  ğŸ“‚ Source directory

-  ğŸ•’ Timestamp

-  ğŸ—„ï¸ Backup file name

âœ… Timestamp ensures unique backups every time.

---
### ğŸ”¹ Step 2: Create Backup Directory

**Used 'mkdir -p' to:**

-  ğŸ“ Create the backup folder if it doesnâ€™t exist

-  ğŸš« Avoid errors if the folder already exists
---

### ğŸ”¹ Step 3: Create Compressed Backup

Used 'tar -czf' to:

-  ğŸ“¦ Compress the source directory

-  ğŸ—œï¸ Store it as a .tar.gz file

-  ğŸ•’ Backup file includes date and time for easy tracking.
---

### ğŸ”¹ Step 4: Check Command Status

**Used '$?' to check whether the backup command succeeded or failed:**

-  âœ… 0 â†’ Success

-  âŒ Non-zero â†’ Failure
---

### ğŸ”¹ Step 5: Log Backup Result

**Logged the backup status in:**
```
/var/log/backup.log
```

### ğŸ› ï¸ Helps in:

-  ğŸ“Š Monitoring backups

-  ğŸ Debugging failures

-  âš™ï¸ Automation tracking
---

## â° 4. Cron Job Configuration

**Cron jobs are used to automate the execution of the backup script.**

### ğŸ”¹ Open Crontab Editor
```
crontab -e
```
### ğŸ”¹ Run Script at a Specific Time
```
34 05 * * * bash 37.sh
```
**â¡ï¸ Runs 37.sh every day at 05:34 AM.**

### ğŸ”¹ Run Script Every 2 Minutes
```
*/2 * * * * bash 37.sh
```
**â¡ï¸ Automatically takes backup every 2 minutes.**

---

## ğŸ“‚ 5. Check Backup Logs
### ğŸ”¹ Navigate to Log Directory
```
cd /var/log
```
### ğŸ”¹ View Backup Log File
```
cat backup.log
```
â¡ï¸ Used to verify whether backups are successful or failed.

---
## â­ 6. Key Concepts Used

-  ğŸš Shell Scripting

-  ğŸ“¦ tar (archive & compression)

-  ğŸ•’ date command

-  ğŸ“ mkdir

-  ğŸ“Š Exit status ($?)

-  ğŸ“ Logging

-  â° Cron Jobs
---

## ğŸš€ 7. Use Case

**-  Automated backups on AWS EC2**

**-  Regular data protection**

**-  DevOps & system administration automation**

**-  Easy monitoring using log files**
---
